[gd_scene load_steps=22 format=3 uid="uid://d2fac2xibuh1b"]

[ext_resource type="Texture2D" uid="uid://safo5048n3h2" path="res://assets/adastral.png" id="1"]
[ext_resource type="Theme" uid="uid://5jc5whi15673" path="res://themes/main.tres" id="3"]
[ext_resource type="Texture2D" uid="uid://b2ttcp5fvn0m8" path="res://assets/bg.png" id="4"]
[ext_resource type="Texture2D" uid="uid://be3nfp6wctbau" path="res://assets/adastral256.png" id="5"]
[ext_resource type="Script" path="res://main.gd" id="6"]
[ext_resource type="FontFile" uid="uid://cknx8yer7op7k" path="res://fonts/HankenGrotesk.ttf" id="6_e4w67"]
[ext_resource type="Texture2D" uid="uid://bdp5wiff6aiwu" path="res://assets/mockup3.png" id="7"]
[ext_resource type="Texture2D" uid="uid://dh6dr2lq4d3w7" path="res://assets/of-mono.png" id="8"]
[ext_resource type="Texture2D" uid="uid://b21fcl1p2qpc8" path="res://assets/settings.png" id="10"]
[ext_resource type="Texture2D" uid="uid://caxdj60y0ovde" path="res://assets/tf2c-mono.png" id="11"]
[ext_resource type="Texture2D" uid="uid://bjvrgo2shmf48" path="res://assets/about.png" id="12"]
[ext_resource type="Texture2D" uid="uid://bp2qrdcadmyeu" path="res://assets/lf-mono.png" id="13"]
[ext_resource type="Texture2D" uid="uid://drnhw13v2dand" path="res://assets/pf2-mono.png" id="14"]
[ext_resource type="Script" path="res://Buttons.gd" id="15"]
[ext_resource type="FontFile" uid="uid://pskwpwxk0pd4" path="res://fonts/HankenGrotesk-SemiBold.ttf" id="15_m18sp"]
[ext_resource type="Script" path="res://starspin.gd" id="16"]

[sub_resource type="FontVariation" id="FontVariation_qo1cp"]
base_font = ExtResource("6_e4w67")
spacing_glyph = -1

[sub_resource type="Shader" id="22"]
code = "shader_type canvas_item;
uniform sampler2D SCREEN_TEXTURE : hint_screen_texture, filter_linear_mipmap;
uniform float divide = 1;
uniform float blur = 0.8;
void fragment() {
	vec4 col = texture(TEXTURE, UV);
	vec4 scr = texture(SCREEN_TEXTURE, SCREEN_UV);
	vec3 scl = min(vec3(1.0), scr.rgb * (1.0 - col.a));
	COLOR = vec4(col.rgb + scl, col.a);
    COLOR.a = min(COLOR.a,smoothstep(divide,blur,UV.x));
}"

[sub_resource type="ShaderMaterial" id="23"]
shader = SubResource("22")
shader_parameter/divide = 1.0
shader_parameter/blur = 0.8

[sub_resource type="StyleBoxEmpty" id="32"]

[sub_resource type="StyleBoxEmpty" id="33"]

[node name="Control" type="Control"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Main" type="Control" parent="."]
anchors_preset = 0
anchor_right = 1.0
anchor_bottom = 1.0
theme = ExtResource("3")
script = ExtResource("6")

[node name="Background" type="TextureRect" parent="Main"]
layout_mode = 0
offset_top = -3.0
offset_right = 808.0
offset_bottom = 453.0
texture = ExtResource("4")
expand_mode = 1
stretch_mode = 5

[node name="TextureRect2" type="TextureRect" parent="Main"]
modulate = Color(1, 1, 1, 0.243137)
layout_mode = 0
offset_left = 577.0
offset_top = -29.0
offset_right = 957.0
offset_bottom = 351.0
pivot_offset = Vector2(190, 190)
texture = ExtResource("5")
expand_mode = 1
stretch_mode = 5
script = ExtResource("16")

[node name="TopPanel" type="Panel" parent="Main"]
layout_mode = 0
offset_right = 770.0
offset_bottom = 64.0
theme_type_variation = &"TopPanel"

[node name="Adastral" type="Label" parent="Main/TopPanel"]
layout_mode = 0
offset_left = 80.0
offset_top = 16.0
offset_right = 176.0
offset_bottom = 52.0
theme_override_fonts/font = SubResource("FontVariation_qo1cp")
theme_override_font_sizes/font_size = 25
text = "Adastral"

[node name="AdastralLogo" type="TextureRect" parent="Main/TopPanel"]
layout_mode = 0
offset_left = 30.0
offset_top = 12.0
offset_right = 72.0
offset_bottom = 54.0
texture = ExtResource("1")
expand_mode = 1

[node name="AboutButton" type="TextureButton" parent="Main/TopPanel"]
layout_mode = 0
offset_left = 656.0
offset_top = 16.0
offset_right = 688.0
offset_bottom = 48.0
theme_type_variation = &"TopButton"
texture_normal = ExtResource("12")
ignore_texture_size = true
stretch_mode = 0

[node name="AdvancedButton" type="TextureButton" parent="Main/TopPanel"]
layout_mode = 0
offset_left = 712.0
offset_top = 16.0
offset_right = 744.0
offset_bottom = 48.0
theme_type_variation = &"TopButton"
action_mode = 0
texture_normal = ExtResource("10")
ignore_texture_size = true
stretch_mode = 0

[node name="SubViewportContainer" type="SubViewportContainer" parent="Main"]
material = SubResource("23")
layout_mode = 0
offset_left = 40.0
offset_top = 112.0
offset_right = 524.0
offset_bottom = 236.0
stretch = true

[node name="SubViewport" type="SubViewport" parent="Main/SubViewportContainer"]
disable_3d = true
transparent_bg = true
handle_input_locally = false
size = Vector2i(484, 124)
size_2d_override_stretch = true
render_target_update_mode = 4

[node name="ScrollContainer" type="ScrollContainer" parent="Main/SubViewportContainer/SubViewport"]
offset_right = 520.0
offset_bottom = 128.0
theme = ExtResource("3")

[node name="HBoxContainer" type="HBoxContainer" parent="Main/SubViewportContainer/SubViewport/ScrollContainer"]
layout_mode = 2
size_flags_vertical = 3
script = ExtResource("15")

[node name="OFButton" type="TextureButton" parent="Main/SubViewportContainer/SubViewport/ScrollContainer/HBoxContainer"]
custom_minimum_size = Vector2(110, 110)
layout_mode = 2
size_flags_horizontal = 6
size_flags_vertical = 4
texture_normal = ExtResource("8")

[node name="VSeparator" type="VSeparator" parent="Main/SubViewportContainer/SubViewport/ScrollContainer/HBoxContainer"]
custom_minimum_size = Vector2(8, 0)
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_styles/separator = SubResource("32")

[node name="TF2CButton" type="TextureButton" parent="Main/SubViewportContainer/SubViewport/ScrollContainer/HBoxContainer"]
custom_minimum_size = Vector2(110, 110)
layout_mode = 2
size_flags_horizontal = 6
size_flags_vertical = 4
texture_normal = ExtResource("11")
texture_hover = ExtResource("11")

[node name="VSeparator2" type="VSeparator" parent="Main/SubViewportContainer/SubViewport/ScrollContainer/HBoxContainer"]
custom_minimum_size = Vector2(8, 0)
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_styles/separator = SubResource("33")

[node name="PF2Button" type="TextureButton" parent="Main/SubViewportContainer/SubViewport/ScrollContainer/HBoxContainer"]
custom_minimum_size = Vector2(110, 110)
layout_mode = 2
size_flags_horizontal = 6
size_flags_vertical = 6
texture_normal = ExtResource("14")

[node name="VSeparator3" type="VSeparator" parent="Main/SubViewportContainer/SubViewport/ScrollContainer/HBoxContainer"]
custom_minimum_size = Vector2(8, 0)
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_styles/separator = SubResource("32")

[node name="LFButton" type="TextureButton" parent="Main/SubViewportContainer/SubViewport/ScrollContainer/HBoxContainer"]
custom_minimum_size = Vector2(110, 110)
layout_mode = 2
size_flags_horizontal = 6
size_flags_vertical = 6
texture_normal = ExtResource("13")

[node name="TextureRect3" type="Panel" parent="Main"]
layout_mode = 0
offset_top = 255.0
offset_right = 770.0
offset_bottom = 350.0
theme_type_variation = &"AccentPanel"

[node name="GameText" type="RichTextLabel" parent="Main"]
layout_mode = 0
offset_left = 31.0
offset_top = 69.0
offset_right = 752.0
offset_bottom = 120.0
theme_type_variation = &"PositiveRTL"
theme_override_font_sizes/normal_font_size = 25
theme_override_font_sizes/bold_font_size = 25
bbcode_enabled = true
text = "[b]Welcome to Adastral! [/b]Select a game to install."

[node name="Adastral2" type="Label" parent="Main"]
layout_mode = 0
offset_left = 576.0
offset_top = 16.0
offset_right = 632.0
offset_bottom = 47.0
theme_override_fonts/font = ExtResource("15_m18sp")
theme_override_font_sizes/font_size = 22
text = "v0.0.1"

[node name="LatestVersion" type="RichTextLabel" parent="Main"]
layout_mode = 0
offset_left = 520.0
offset_top = 184.0
offset_right = 768.0
offset_bottom = 216.0
theme_type_variation = &"PositiveRTL"
theme_override_font_sizes/normal_font_size = 22
theme_override_font_sizes/bold_font_size = 22
bbcode_enabled = true
text = "Latest Version: [b]2.1.3[/b]"
scroll_active = false

[node name="InstalledVersion" type="RichTextLabel" parent="Main"]
layout_mode = 0
offset_left = 520.0
offset_top = 208.0
offset_right = 784.0
offset_bottom = 234.0
theme_type_variation = &"PositiveRTL"
theme_override_font_sizes/normal_font_size = 22
theme_override_font_sizes/bold_font_size = 22
bbcode_enabled = true
text = "Installed Version: [b]2.1.2[/b]"
scroll_active = false

[node name="Path3D" type="Label" parent="Main"]
layout_mode = 0
offset_left = 35.0
offset_top = 301.0
offset_right = 408.0
offset_bottom = 321.0
theme_override_font_sizes/font_size = 18
text = "Installing to: /this/is/a/very/long/directory/open_fortress"

[node name="ProgressBar" type="ProgressBar" parent="Main"]
layout_mode = 0
offset_left = 33.0
offset_top = 277.0
offset_right = 558.0
offset_bottom = 300.0
value = 50.0

[node name="Install" type="Button" parent="Main"]
layout_mode = 0
offset_left = 656.0
offset_top = 277.0
offset_right = 740.0
offset_bottom = 318.0
theme_type_variation = &"ImportantButton"
theme_override_font_sizes/font_size = 22
text = "Install"

[node name="Verify" type="Button" parent="Main"]
layout_mode = 0
offset_left = 567.0
offset_top = 277.0
offset_right = 651.0
offset_bottom = 318.0
theme_override_font_sizes/font_size = 22
text = "Verify"

[node name="TextureRect" type="TextureRect" parent="Main"]
visible = false
modulate = Color(1, 1, 1, 0.607843)
layout_mode = 0
offset_right = 768.0
offset_bottom = 387.0
texture = ExtResource("7")
expand_mode = 1
stretch_mode = 5

[node name="GradientBar" type="Panel" parent="Main"]
layout_mode = 0
offset_top = 64.0
offset_right = 770.0
offset_bottom = 68.0
theme_type_variation = &"GradientBar"

[connection signal="change_to" from="Main" to="Main/SubViewportContainer/SubViewport/ScrollContainer/HBoxContainer" method="_on_Main_change_to"]
[connection signal="pressed" from="Main/TopPanel/AboutButton" to="Main" method="_on_AboutButton_pressed"]
[connection signal="pressed" from="Main/TopPanel/AdvancedButton" to="Main" method="_on_Button4_pressed"]
[connection signal="pressed" from="Main/SubViewportContainer/SubViewport/ScrollContainer/HBoxContainer/OFButton" to="Main" method="_on_OFButton_pressed"]
[connection signal="pressed" from="Main/SubViewportContainer/SubViewport/ScrollContainer/HBoxContainer/TF2CButton" to="Main" method="_on_TF2CButton_pressed"]
[connection signal="pressed" from="Main/SubViewportContainer/SubViewport/ScrollContainer/HBoxContainer/PF2Button" to="Main" method="_on_PF2Button_pressed"]
